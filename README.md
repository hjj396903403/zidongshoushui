# zidongshoushui
自动售水机代码
这是一道2012年的全国电子设计大赛模拟题，硬件部分是在c51开发板上模拟的，代码为自己设计，实现了下述功能。

设计任务及要求：
1.按键控制单元
设定按键S7为出水控制按键，当S7按下后，售水机持续出水〈继电器接通，指示 灯L10点亮设定按键S6为停水控制按键，当S6按下后，停止出水〈继电器断开， 指示灯L10熄灭X
2.数码管显示单元
通过4位数码管DS1显示费率，单位为元丨升，保留2位有效数字；
通过4位数码管DS2显示当前出水总量（出水时，单位为升）和总价（停止时，单 位为元按下出水按键S7后，清除数码管DS2显示数据，数码管DS2实时显示出水 量(保留两位有效数字〕，在出水状态下，再次按下S7，不会影响出水状态，直到按下停 止按键S6为止;按下停止出水按键S6后，数码管DS2显示总价(保留两位有效数字）
3.转换单元
通过光敏电阻RD1和AD转换芯片PCF8591组成的亮度检测电路〈亮度值转换为PCF8591光敏电阻通道的电压〕检测环境亮度；当：PCF8591光敏电阻通道输入电压小 于1.25 V时，L1点亮，大于1.25V时，L1熄灭。
4^系统说明
  1.假定水价为0.5元/升，出水速度为100毫升/秒；
  2. 一次出水总量达到99.99L时，继电器自动断开，数码管显示DS2显示价格。
